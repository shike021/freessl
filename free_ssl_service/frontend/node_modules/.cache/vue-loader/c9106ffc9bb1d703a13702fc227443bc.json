{"remainingRequest":"/root/work/freessl/free_ssl_service/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/root/work/freessl/free_ssl_service/frontend/src/views/Certificates/List.vue?vue&type=style&index=0&id=26d481e7&scoped=true&lang=css","dependencies":[{"path":"/root/work/freessl/free_ssl_service/frontend/src/views/Certificates/List.vue","mtime":1744469248989},{"path":"/root/work/freessl/free_ssl_service/frontend/node_modules/css-loader/dist/cjs.js","mtime":1744473453671},{"path":"/root/work/freessl/free_ssl_service/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1744473443888},{"path":"/root/work/freessl/free_ssl_service/frontend/node_modules/postcss-loader/src/index.js","mtime":1744473453093},{"path":"/root/work/freessl/free_ssl_service/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1744473453885},{"path":"/root/work/freessl/free_ssl_service/frontend/node_modules/vue-loader/lib/index.js","mtime":1744473443223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jZXJ0aWZpY2F0ZS1saXN0IHsKICBwYWRkaW5nOiAyMHB4Owp9CgoubWItMjAgewogIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KCi50ZXh0LXJpZ2h0IHsKICB0ZXh0LWFsaWduOiByaWdodDsKfQoKLnRleHQtZGFuZ2VyIHsKICBjb2xvcjogI2Y1NmM2YzsKfQo="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";AAmHA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/Certificates","sourcesContent":["<template>\n  <div class=\"certificate-list\">\n    <el-row justify=\"space-between\" align=\"middle\" class=\"mb-20\">\n      <el-col :span=\"12\">\n        <h2>我的SSL证书</h2>\n      </el-col>\n      <el-col :span=\"12\" class=\"text-right\">\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          @click=\"$router.push('/certificates/create')\"\n        >\n          申请新证书\n        </el-button>\n      </el-col>\n    </el-row>\n    \n    <el-table :data=\"certificates\" v-loading=\"loading\">\n      <el-table-column prop=\"domains\" label=\"域名\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <router-link :to=\"`/certificates/${row.id}`\">\n            {{ row.domains }}\n          </router-link>\n        </template>\n      </el-table-column>\n      \n      <el-table-column prop=\"issue_date\" label=\"申请日期\" width=\"150\">\n        <template #default=\"{ row }\">\n          {{ formatDate(row.issue_date) }}\n        </template>\n      </el-table-column>\n      \n      <el-table-column prop=\"expiry_date\" label=\"过期日期\" width=\"150\">\n        <template #default=\"{ row }\">\n          <span :class=\"{'text-danger': isExpired(row.expiry_date)}\">\n            {{ formatDate(row.expiry_date) }}\n          </span>\n        </template>\n      </el-table-column>\n      \n      <el-table-column prop=\"status\" label=\"状态\" width=\"120\">\n        <template #default=\"{ row }\">\n          <el-tag\n            :type=\"getStatusType(row.status)\"\n            size=\"small\"\n          >\n            {{ row.status === 'active' ? '有效' : '已过期' }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      \n      <el-table-column label=\"操作\" width=\"180\">\n        <template #default=\"{ row }\">\n          <el-button\n            size=\"mini\"\n            @click=\"$router.push(`/certificates/${row.id}/renew`)\"\n            v-if=\"row.can_renew\"\n          >\n            续期\n          </el-button>\n          <el-button\n            size=\"mini\"\n            @click=\"$router.push(`/certificates/${row.id}`)\"\n          >\n            详情\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      loading: false\n    }\n  },\n  computed: {\n    ...mapState('certs', ['certificates'])\n  },\n  created() {\n    this.loadCertificates()\n  },\n  methods: {\n    ...mapActions('certs', ['fetchCertificates']),\n    \n    async loadCertificates() {\n      this.loading = true\n      try {\n        await this.fetchCertificates()\n      } catch (error) {\n        this.$message.error('加载证书失败: ' + (error.response?.data?.message || error.message))\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    formatDate(date) {\n      return new Date(date).toLocaleDateString()\n    },\n    \n    isExpired(expiryDate) {\n      return new Date(expiryDate) < new Date()\n    },\n    \n    getStatusType(status) {\n      return status === 'active' ? 'success' : 'danger'\n    }\n  }\n}\n</script>\n<style scoped>\n.certificate-list {\n  padding: 20px;\n}\n\n.mb-20 {\n  margin-bottom: 20px;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.text-danger {\n  color: #f56c6c;\n}\n</style>\n"]}]}